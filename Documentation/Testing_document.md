# Unit testing

Unit testing report can be generated by running following commands in file pathfinding:

```
gradle test
gradle jacocoTestReport
```

# Running performance tests

Running performance tests takes few minutes. Everything will be printed at once after running the tests. Results are meant to be viewed as markdown document.

Performance tests can be run with command:

```
gradle run --args='test'
```

If you want to write results to file use:

```
gradle run --args='test' > filename.md
```

# Pathfinding algorithm comparison

Some maps used for performance testing are from [movingai.com](https://movingai.com/benchmarks/grids.html).

While running performance tests we also check that all pathfinding algorithms find a path with roughly the same length. Jump point search will have slightly different path lengths due to rounding errors.

For pictures green circle marks start and red circle marks end.

## Statistics for each pathfinding algorithm in map: Berlin_0_1024 (Has path)

![Berlin_0_1024 (Has path)](https://github.com/heniko/Pathfinding/blob/master/Documentation/Pictures/Berlin_0_1024_Has_Path.png)
Size of the map is 1024x1024.

| Algorithm | Path length |
|---|---|
| Djikstra's algorithm | 1574.3586565896637 |
| Euclidean distance A* |1574.3586565896637 |
| Diagonal distance A* |1574.3586565896637 |
| Jump point search |1574.3586565896562 |

| Algorithm | Average time (ms) | Standard deviation (ms) | Max time (ms) | Min time (ms) |
|---|---|---|---|---|
| Djikstra's algorithm | 221.19282 | 9.63734 | 264.77141 | 211.38148 |
| Euclidean distance A* | 175.33602 | 8.59381 | 213.75488 | 168.07964 |
| Diagonal distance A* | 72.69738 | 4.73900 | 99.34763 | 69.88516 |
| Jump point search | 51.56327 | 0.84888 | 57.34741 | 50.84530 |

## Statistics for each pathfinding algorithm in map: Berlin_0_1024 (No path)

![Berlin_0_1024 (No path)](https://github.com/heniko/Pathfinding/blob/master/Documentation/Pictures/Berlin_0_1024_No_Path.png)
Size of the map is 1024x1024.

| Algorithm | Path length |
|---|---|
| Djikstra's algorithm | 0.0 |
| Euclidean distance A* |0.0 |
| Diagonal distance A* |0.0 |
| Jump point search |0.0 |

| Algorithm | Average time (ms) | Standard deviation (ms) | Max time (ms) | Min time (ms) |
|---|---|---|---|---|
| Djikstra's algorithm | 232.67686 | 6.60978 | 267.38176 | 223.72210 |
| Euclidean distance A* | 361.58750 | 9.25353 | 399.33924 | 346.44736 |
| Diagonal distance A* | 311.52401 | 6.75953 | 333.03637 | 300.91036 |
| Jump point search | 493.69738 | 12.36516 | 514.14613 | 482.04089 |

## Statistics for each pathfinding algorithm in map: 16room_001

![16room_001](https://github.com/heniko/Pathfinding/blob/master/Documentation/Pictures/16room_001.png)
Size of the map is 512x512.

| Algorithm | Path length |
|---|---|
| Djikstra's algorithm | 861.4945160902307 |
| Euclidean distance A* |861.4945160902307 |
| Diagonal distance A* |861.4945160902307 |
| Jump point search |861.4945160902283 |

| Algorithm | Average time (ms) | Standard deviation (ms) | Max time (ms) | Min time (ms) |
|---|---|---|---|---|
| Djikstra's algorithm | 59.44539 | 1.40524 | 64.25515 | 57.76555 |
| Euclidean distance A* | 49.45014 | 1.00974 | 53.26080 | 48.24946 |
| Diagonal distance A* | 35.23353 | 0.87695 | 38.59029 | 34.32135 |
| Jump point search | 4.11108 | 0.13706 | 4.91065 | 4.04594 |

## Statistics for each pathfinding algorithm in map: 64room_009

![64room_009](https://github.com/heniko/Pathfinding/blob/master/Documentation/Pictures/64room_009.png)
Size of the map is 512x512.

| Algorithm | Path length |
|---|---|
| Djikstra's algorithm | 836.2224381515884 |
| Euclidean distance A* |836.2224381515884 |
| Diagonal distance A* |836.2224381515884 |
| Jump point search |836.222438151586 |

| Algorithm | Average time (ms) | Standard deviation (ms) | Max time (ms) | Min time (ms) |
|---|---|---|---|---|
| Djikstra's algorithm | 68.46754 | 1.90246 | 74.76082 | 66.19193 |
| Euclidean distance A* | 38.85736 | 1.26308 | 49.11787 | 37.94830 |
| Diagonal distance A* | 25.39823 | 0.71844 | 30.04843 | 24.84964 |
| Jump point search | 2.03702 | 0.24986 | 3.49497 | 1.95840 |

## Statistics for each pathfinding algorithm in map: Empty

This test is just empty map with starting position in the upper left corner and ending in the lower right corner. Size of the map is 1024x1024.

| Algorithm | Path length |
|---|---|
| Djikstra's algorithm | 1446.7404743076866 |
| Euclidean distance A* |1446.7404743076866 |
| Diagonal distance A* |1446.7404743076866 |
| Jump point search |1446.7404743076763 |

| Algorithm | Average time (ms) | Standard deviation (ms) | Max time (ms) | Min time (ms) |
|---|---|---|---|---|
| Djikstra's algorithm | 353.19365 | 16.86981 | 402.93860 | 333.38425 |
| Euclidean distance A* | 1.69198 | 1.58591 | 16.82660 | 1.41966 |
| Diagonal distance A* | 1.62933 | 0.58380 | 5.52220 | 1.42052 |
| Jump point search | 11.32688 | 2.12559 | 31.29742 | 10.77134 |

# Math.sqrt() and Mathematics.sqrt() comparison

My own implementation Mathematics.sqrt was compared to Java Math.sqrt. 100 * 1 million square root operations were performed on each implementation.

| Implementation | Average time (ms) | Standard deviation (ms) | Max time (ms) | Min time (ms) |
|---|---|---|---|---|
| Math.sqrt() | 17.2029411500 | 0.3667132035 | 20.0897420000 | 17.0854400000 |
| Mathematics.sqrt() | 459.9529044900 | 5.0823893244 | 490.9576530000 | 450.5102220000 |

My implementation seems to be pretty slow compared to Java implementation which makes sense since Math.sqrt is O(1) and my implementation is O(log(n)). My implementation also only approximates square root untill error is under 0.0000001. For these reasons Math.sqrt() will be used instead of Mathematics.sqrt().